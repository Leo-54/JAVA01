### java多线程和并发线程

java多线程实现的两种方法：

**Thread方法**

1. 通过继承Thread类来创建线程

2. 通过start方法来启动线程的如run方法

   ``` java
   public class Thread1 extends Thread{
       //代码块，如run方法
   }
   public static void main(String[] args){
       new Thread1().start();
   }
   ```

**Running方法**

1. 通过实现Runnable接口来创建线程；

2. 实现Runnable的对象必须包装在Thread类里面才可以启动；

3. 通过start方法来启动线程的如run方法

   ```java
   public class Thread2 implements Runnable{
       //代码块，如run方法
   }
   public static void main(String[] args){
       new Thread(new Thread2()).start();
       //或者Thread2 t1 = new Thread2();
       //Thread t = new Thread(t1);
       //t.start();
   }
   ```


#### 信息共享

采用volatile关键字修饰变量（用volatile可以及时在各线程里面通知，如volatile boolean flag = true)

**了解加锁限制：互斥，不能同时在多个线程中运行这个代码块。synchronized代码块/函数，只能一个线程进入**

#### 多线程管理

线程阻塞和唤醒

- sleep，时间到了自然会醒来

- wait，notify，notifyAll，等待，需要别人来唤醒

- join，等待另外一个线程结束

- interrupt，向另外一个线程发送中断信号，该线程收到信号，会自动触发InterruptedException（可解除阻塞），并进行下一步处理

  **理解生产者——消费者问题**

多线程死锁问题

- 预防思索，对资源进行等级排序
- 每个线程互相持有别人的锁

守护线程

- 通过thread.setDaemon(true)来将一个普通线程设置为守护线程







#### 数据结构

1. 数组定义：如int[] c  = new int[2]；

##### 列表List

了解 ArrayList---LinkedList---Vector（与ArrayList相似）

在同步时可采用Vector

遍历方法：

1. 迭代器遍历 Iterator<Integer> t = list.interator();
2. 索引值遍历（即for循环）
3. for-each遍历（for（Integer t：v））

##### 集合Set

HashSet （无序）基于HashMap实现的

- add添加一个元素
- clear清楚整个HashSet
- contains判定是或包括一个元素
- remove删除一个元素，size大小
- retainAll 计算两个集合交集(set1.retainAll(set2)

LinkedHashSet（有序）

​	继承HashSet	区别：通过双向链表维护插入顺序	

TreeSet

- 按照从小到大的顺序排序

HashSet,LinkedHashSet,TreeSet的元素都只能是对象

 HashSet,LinkedHashSet判定元素重复原则：

- 判断hashCode返回值是否相同
- hashCode相同，再判断equals方法，相同返回true，则重复

TreeSet判定元素重复原则：

- 需要元素继承Comparable接口
- 比较两个元素的compareTo方法

##### 映射Map

- Hashtable（同步，慢，数据量小，无序）

  1. 主要方法：比HashSet多了containsValue（是否包含某一个值）和containsKey（是否包含某一个Key），用put增加新的K-V对
  2. 遍历方法：根据Key的Iterator遍历【Iterator<Integer> iter = ht.keySet().iterator()】

- HashMap（不支持同步，快，数据量大，无序）

  HashMap遍历无序；LinkedHashMap遍历的顺序和它插入的顺序保持一致；TreeMap遍历的顺序是按照大小或者compareTo方法规定的

- Properties（同步，文件形式，数据量小）

  1. 继承Hashtable
  2. 从文件加载的load方法，写入到文件中的store方法，getProperty是获取某一个Key对应的Value，setProperty是写入一个K-V对

##### 工具类

- Arrays：排序sort，查找binarySearch，批量拷贝copyOf，批量赋值fill，等价性比较equals。

- Collections：排序sort，查找binarySearch，批量拷贝copyOf，批量赋值fill，最大最小，max，min；反序reverse

- 对象比较：对象实现comparable接口（需要修改对象类）

  compareTo方法：		大于返回1，==返回0，小于返回-1

  新建Comparator（适用于对象类不可更改的情况）

  compare方法：			大于返回1，==返回0，小于返回-1

  comparator比较器将作为参数提交给工具类的sort方法

#### java文件读与写

##### 文件系统及java文件基本操作

File不涉及具体的文件内容，只涉及属性

常用方法：

- createNewFile：创建新文件（非目录）；
- delete：删除文件或者目录；
- exists：判断File对象是否存在；
- getName：获取文件名字；
- getParent：获取上一层目录路径；
- getPath：获取这个文件的全路径；
- isDirectory：是否是目录；
- isFile：是否是文件；
- length：获取文件的大小；
- listFiles：列出当前目录的所有子文件；
- mkdir：创建一级（一层）目录；
- mkdirs：创建多级（多层）目录；

##### java io包

inputStream： 数据从文件读取到java里；	

outputStream：数据从java输出到文件里

 InputStreamReader：文件读取时字节，转化为java能理解的字符

OutputStreamWriter：java将字符转化为字节输入到文件中

##### 文本文件读写

FileOutputStream	节点类,负责写字节;

OutputStreamWriter	转化类，负责字符到字节转化;

BufferedWriter	装饰类,负责写字符到缓存区。

- write
- newLine

三者构建关系:
BufferedWriter (OutputStreamWriter (FileOutputStream)))

ex：`Bufferedwriter bw = new Bufferedwriter(new OutputStreamwriter(new FileoutputStream("c:/temp/abc.txt")`

关闭文件语句：try—resource自动关闭资源

##### 二进制文件读写（用记事本等无法打开/阅读）

FileOutputStream节点类，负责写字节;

BufferedOutputStream装饰类,负责写字节数据到缓冲区;

DataOutputStreamWriter转化类,负责数据类型到字节转化。

三者构建关系:DataOutputStreamWriter(BufferedOutputStream(FileOutputStream))

##### Zip文件读写

压缩

- 打开输入zip文件
- 添加一个ZipEntry
- 打开一个输入文件，读数据，向ZipEntry写数据，关闭输入文件
- 重复以上两个操作，写入多个文件到zip文件中
- 关闭zip文件



#### 泛型

```java
ArrayList<  > list = new ArrayList<  >();
```

##


